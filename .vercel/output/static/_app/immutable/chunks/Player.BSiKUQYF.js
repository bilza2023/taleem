var je=Object.defineProperty;var Ce=(l,e,t)=>e in l?je(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var oe=(l,e,t)=>Ce(l,typeof e!="symbol"?e+"":e,t);import{s as x,l as G,j as v,k as c,e as A,t as J,b as B,d as k,m as C,r as z,h as F,f as _e,i as m,D as L,v as y,w as V,x as fe,J as ce,A as we,o as re,E as Se,W as Ie}from"./scheduler.Dc8tTJBu.js";import{S as $,i as ee,t as b,g as H,a as S,c as W,h as me,j as de,b as R,d as X,m as K,e as q}from"./index.CUkUO2Ml.js";import"./entry.CHzrKy0Y.js";import{f as ge,s as ne,P as Ye}from"./index.BKqyFUtU.js";import{b as Ne,h as ye,r as Be}from"./slideObject.sSBwR6TN.js";function Pe(l){let e,t,i,a,r,s,n="||",o,u,T="■",O,P,Y,d,f,_=l[0].slides[l[0].slides.length-1].endTime+"",g,h,le,M,U,te,se,Q,I,ae,he;function pe(p,E){return typeof p[1]=="number"?Ve:Fe}let ie=pe(l),N=ie(l);return{c(){e=A("div"),t=A("div"),i=A("button"),a=J("▶"),r=B(),s=A("button"),s.textContent=n,o=B(),u=A("button"),u.textContent=T,O=B(),P=A("input"),Y=B(),d=A("div"),N.c(),f=J(`
        / `),g=J(_),h=J(" sec"),le=B(),M=A("div"),U=A("input"),this.h()},l(p){e=k(p,"DIV",{class:!0,style:!0});var E=C(e);t=k(E,"DIV",{class:!0,style:!0});var j=C(t);i=k(j,"BUTTON",{class:!0,style:!0});var be=C(i);a=z(be,"▶"),be.forEach(c),r=F(j),s=k(j,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),_e(s)!=="svelte-1iauj0x"&&(s.textContent=n),o=F(j),u=k(j,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),_e(u)!=="svelte-f4x0p8"&&(u.textContent=T),O=F(j),P=k(j,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Y=F(j),d=k(j,"DIV",{class:!0,style:!0});var Z=C(d);N.l(Z),f=z(Z,`
        / `),g=z(Z,_),h=z(Z," sec"),Z.forEach(c),le=F(j),M=k(j,"DIV",{class:!0,style:!0});var Te=C(M);U=k(Te,"INPUT",{type:!0,min:!0,max:!0,class:!0,style:!0}),Te.forEach(c),j.forEach(c),E.forEach(c),this.h()},h(){m(i,"class","toolbar-button ml-2 svelte-5ua86e"),L(i,"background-color",l[4].primary),m(s,"class","toolbar-button svelte-5ua86e"),L(s,"background-color","gray"),m(u,"class","toolbar-button svelte-5ua86e"),L(u,"background-color","#b91c1c"),m(P,"type","range"),m(P,"min","0"),m(P,"max","1"),m(P,"step","0.1"),P.value="0.8",m(P,"class","volume-slider svelte-5ua86e"),m(d,"class","toolbar-text svelte-5ua86e"),L(d,"background-color",l[4].bg),L(d,"color",l[4].text),m(U,"type","range"),m(U,"min","0"),m(U,"max",te=l[0].slides[l[0].slides.length-1].endTime),U.value=l[1],m(U,"class","progress-slider svelte-5ua86e"),L(U,"background-color",l[4].secondary),m(M,"class","progress-slider-container svelte-5ua86e"),L(M,"background-color",l[4].bg),m(t,"class","toolbar-content flex items-center space-x-2 svelte-5ua86e"),L(t,"background-color",l[4].secondary),m(e,"class","toolbar-wrapper svelte-5ua86e"),L(e,"--opacity",l[3])},m(p,E){v(p,e,E),y(e,t),y(t,i),y(i,a),y(t,r),y(t,s),y(t,o),y(t,u),y(t,O),y(t,P),y(t,Y),y(t,d),N.m(d,null),y(d,f),y(d,g),y(d,h),y(t,le),y(t,M),y(M,U),I=!0,ae||(he=[V(i,"click",l[5]),V(s,"click",l[7]),V(u,"click",l[6]),V(P,"input",l[13]),V(U,"change",l[14])],ae=!0)},p(p,E){(!I||E&16)&&L(i,"background-color",p[4].primary),ie===(ie=pe(p))&&N?N.p(p,E):(N.d(1),N=ie(p),N&&(N.c(),N.m(d,f))),(!I||E&1)&&_!==(_=p[0].slides[p[0].slides.length-1].endTime+"")&&fe(g,_),(!I||E&16)&&L(d,"background-color",p[4].bg),(!I||E&16)&&L(d,"color",p[4].text),(!I||E&1&&te!==(te=p[0].slides[p[0].slides.length-1].endTime))&&m(U,"max",te),(!I||E&2)&&(U.value=p[1]),(!I||E&16)&&L(U,"background-color",p[4].secondary),(!I||E&16)&&L(M,"background-color",p[4].bg),(!I||E&16)&&L(t,"background-color",p[4].secondary),(!I||E&8)&&L(e,"--opacity",p[3])},i(p){I||(p&&ce(()=>{I&&(Q&&Q.end(1),se=me(e,ge,{delay:300}),se.start())}),I=!0)},o(p){se&&se.invalidate(),p&&(Q=de(e,ge,{delay:300})),I=!1},d(p){p&&c(e),N.d(),p&&Q&&Q.end(),ae=!1,we(he)}}}function Fe(l){let e;return{c(){e=J(l[1])},l(t){e=z(t,l[1])},m(t,i){v(t,e,i)},p(t,i){i&2&&fe(e,t[1])},d(t){t&&c(e)}}}function Ve(l){let e=l[1].toFixed(0)+"",t;return{c(){t=J(e)},l(i){t=z(i,e)},m(i,a){v(i,t,a)},p(i,a){a&2&&e!==(e=i[1].toFixed(0)+"")&&fe(t,e)},d(i){i&&c(t)}}}function Me(l){let e,t=l[0]&&Pe(l);return{c(){t&&t.c(),e=G()},l(i){t&&t.l(i),e=G()},m(i,a){t&&t.m(i,a),v(i,e,a)},p(i,[a]){i[0]?t?(t.p(i,a),a&1&&b(t,1)):(t=Pe(i),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(H(),S(t,1,1,()=>{t=null}),W())},i(i){b(t)},o(i){S(t)},d(i){i&&c(e),t&&t.d(i)}}}function Re(l,e,t){let i,{presentationObj:a}=e,{pulse:r}=e,{preStart:s=()=>{}}=e,{preStop:n=()=>{}}=e,{prePause:o=()=>{}}=e,{setPulse:u=()=>{}}=e,{theme:T="light"}=e,{opacity:O=.8}=e;function P(){s(),a.start()}function Y(){n(),a.stop()}function d(){o(),a.pause()}function f(h){a.setVolume(h)}const _=h=>f(h.target.value),g=h=>u(h.target.value);return l.$$set=h=>{"presentationObj"in h&&t(0,a=h.presentationObj),"pulse"in h&&t(1,r=h.pulse),"preStart"in h&&t(9,s=h.preStart),"preStop"in h&&t(10,n=h.preStop),"prePause"in h&&t(11,o=h.prePause),"setPulse"in h&&t(2,u=h.setPulse),"theme"in h&&t(12,T=h.theme),"opacity"in h&&t(3,O=h.opacity)},l.$$.update=()=>{l.$$.dirty&4096&&t(4,i=T==="dark"?{bg:"#333",text:"#fff",primary:"#00A6ED",secondary:"#aeb18c"}:{bg:"#fff",text:"#333",primary:"#065d7f",secondary:"#aeb18c"})},[a,r,u,O,i,P,Y,d,f,s,n,o,T,_,g]}class De extends ${constructor(e){super(),ee(this,e,Re,Me,x,{presentationObj:0,pulse:1,preStart:9,preStop:10,prePause:11,setPulse:2,theme:12,opacity:3})}}function Ae(l){let e,t,i;var a=l[6].getPlayerComponent(l[4].type);function r(s,n){return{props:{currentTime:s[0],pulse:s[2],items:s[4].items,startTime:s[4].startTime,endTime:s[4].endTime,slideExtra:s[4].slideExtra,assets:s[1],setPulse:s[3]}}}return a&&(e=Se(a,r(l))),{c(){e&&R(e.$$.fragment),t=G()},l(s){e&&X(e.$$.fragment,s),t=G()},m(s,n){e&&K(e,s,n),v(s,t,n),i=!0},p(s,n){if(n&16&&a!==(a=s[6].getPlayerComponent(s[4].type))){if(e){H();const o=e;S(o.$$.fragment,1,0,()=>{q(o,1)}),W()}a?(e=Se(a,r(s)),R(e.$$.fragment),b(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else if(a){const o={};n&1&&(o.currentTime=s[0]),n&4&&(o.pulse=s[2]),n&16&&(o.items=s[4].items),n&16&&(o.startTime=s[4].startTime),n&16&&(o.endTime=s[4].endTime),n&16&&(o.slideExtra=s[4].slideExtra),n&2&&(o.assets=s[1]),n&8&&(o.setPulse=s[3]),e.$set(o)}},i(s){i||(e&&b(e.$$.fragment,s),i=!0)},o(s){e&&S(e.$$.fragment,s),i=!1},d(s){s&&c(t),e&&q(e,s)}}}function Ke(l){let e,t,i,a,r=l[4]&&l[5]&&Ae(l);return{c(){e=A("div"),r&&r.c(),this.h()},l(s){e=k(s,"DIV",{tabindex:!0});var n=C(e);r&&r.l(n),n.forEach(c),this.h()},h(){m(e,"tabindex","0")},m(s,n){v(s,e,n),r&&r.m(e,null),t=!0,i||(a=[V(e,"keyup",l[7]),V(e,"click",l[8])],i=!0)},p(s,[n]){s[4]&&s[5]?r?(r.p(s,n),n&48&&b(r,1)):(r=Ae(s),r.c(),b(r,1),r.m(e,null)):r&&(H(),S(r,1,1,()=>{r=null}),W())},i(s){t||(b(r),t=!0)},o(s){S(r),t=!1},d(s){s&&c(e),r&&r.d(),i=!1,we(a)}}}async function qe(l){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=a=>t(a),i.src=l})}function He(l,e,t){const i=Ne.getInstance();let{presentationObj:a}=e,{currentTime:r}=e,{assets:s}=e,{pulse:n}=e,{pause:o=()=>{}}=e,{setPulse:u=()=>{}}=e,T,O=!1;re(async()=>{t(5,O=!0)});async function P(){for(let f=0;f<T.items.length;f++){const _=T.items[f];if(_.itemExtra.type=="image")try{const g="https://taleem-media.blr1.cdn.digitaloceanspaces.com/bucket/"+_.extra.src+"."+_.extra.ext,h=await qe(g);_.extra.image=h}catch{}}}function Y(f){f.code==="Space"&&o()}function d(){o()}return l.$$set=f=>{"presentationObj"in f&&t(9,a=f.presentationObj),"currentTime"in f&&t(0,r=f.currentTime),"assets"in f&&t(1,s=f.assets),"pulse"in f&&t(2,n=f.pulse),"pause"in f&&t(10,o=f.pause),"setPulse"in f&&t(3,u=f.setPulse)},l.$$.update=()=>{l.$$.dirty&512&&a&&t(4,T=a.getCurrentSlide()),l.$$.dirty&516&&n&&a&&t(4,T=a.getCurrentSlide()),l.$$.dirty&16&&T&&P()},[r,s,n,u,T,O,i,Y,d,a,o]}class Oe extends ${constructor(e){super(),ee(this,e,He,Ke,x,{presentationObj:9,currentTime:0,assets:1,pulse:2,pause:10,setPulse:3})}}async function Ue(l){return l.forEach(e=>{var t;if(e.type.toLowerCase()==="eqs"&&e.items&&e.items.length>0){(t=e.items[0])!=null&&t.itemExtra&&(e.items[0].itemExtra.startTime=e.startTime);for(let a=0;a<e.items.length-1;a++){const r=e.items[a],s=e.items[a+1];r!=null&&r.itemExtra&&(s!=null&&s.itemExtra)&&(r.itemExtra.endTime=s.itemExtra.startTime)}const i=e.items[e.items.length-1];i!=null&&i.itemExtra&&(i.itemExtra.endTime=e.endTime)}}),l}const D={INITIAL:0,LOADED:1,STOP:2,PLAY:3,PAUSE:4};class We{constructor(e,t,i=!1){this.slides=e,this.soundData=t,this.isBlob=i,this.sound=null,this.playState=D.INITIAL}async loadSound(){this.isBlob?await this.loadSoundFromBlob():await this.loadSoundFromUrl()}async init(){await this.setStopTime(),await Ue(this.slides),await this.loadSound()}async setStopTime(){if(this.slides.length>0){const e=this.slides[this.slides.length-1];this.stopTime=e.endTime&&e.endTime>0?e.endTime:600}}setCurrentSlide(){const e=this.pulse();this.currentSlide=this.slides.find(t=>e>=t.startTime&&e<t.endTime)||null}getCurrentSlide(){return this.setCurrentSlide(),this.currentSlide}start(){return this.playState===D.PLAY?!0:this.playState===D.PAUSE?(this.pause(),!1):(this.sound.play(),this.sound.on("play",()=>{this.playState=D.PLAY}),!0)}pause(){this.playState=this.playState===D.PAUSE?D.PLAY:D.PAUSE,this.playState===D.PLAY?this.sound.play():this.sound.pause()}stop(){return this.playState=D.STOP,this.setCurrentSlide(),this.sound.stop(),!0}pulse(){return this.sound?this.sound.seek():0}setPulse(e){this.sound&&(this.sound.seek(e),this.setCurrentSlide())}setVolume(e){this.sound&&this.sound.volume(e)}async loadSoundFromBlob(){try{const e=atob(this.soundData),t=Array.from(e,s=>s.charCodeAt(0)),i=new Uint8Array(t),a=new Blob([i],{type:"audio/opus"}),r=URL.createObjectURL(a);this.sound=new ye.Howl({src:[r],format:["opus"],volume:1,html5:!0,onload:()=>{this.playState=D.LOADED,URL.revokeObjectURL(r)},onloaderror:(s,n)=>{this.playState=D.INITIAL,console.error("Error loading sound from blob:",n),URL.revokeObjectURL(r)}})}catch(e){this.playState=D.INITIAL,console.error("Error in loadSoundFromBlob:",e)}}async loadSoundFromUrl(){try{this.sound=new ye.Howl({src:[this.soundData],volume:1,html5:!0,onload:()=>{this.playState=D.LOADED},onloaderror:(e,t)=>{this.playState=D.INITIAL,console.error("Error loading sound from URL:",t)}})}catch(e){this.playState=D.INITIAL,console.error("Error in loadSoundFromUrl:",e)}}}function ke(l){let e,t,i,a,r=l[2]&&Ee(l);return i=new Oe({props:{presentationObj:l[3],pulse:l[1],currentTime:l[1],pause:l[7],assets:l[0]}}),{c(){r&&r.c(),e=B(),t=A("div"),R(i.$$.fragment),this.h()},l(s){r&&r.l(s),e=F(s),t=k(s,"DIV",{class:!0});var n=C(t);X(i.$$.fragment,n),n.forEach(c),this.h()},h(){m(t,"class","h-full")},m(s,n){r&&r.m(s,n),v(s,e,n),v(s,t,n),K(i,t,null),a=!0},p(s,n){s[2]?r?(r.p(s,n),n&4&&b(r,1)):(r=Ee(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(H(),S(r,1,1,()=>{r=null}),W());const o={};n&8&&(o.presentationObj=s[3]),n&2&&(o.pulse=s[1]),n&2&&(o.currentTime=s[1]),n&1&&(o.assets=s[0]),i.$set(o)},i(s){a||(b(r),b(i.$$.fragment,s),a=!0)},o(s){S(r),S(i.$$.fragment,s),a=!1},d(s){s&&(c(e),c(t)),r&&r.d(s),q(i)}}}function Ee(l){let e,t,i,a,r;return t=new De({props:{presentationObj:l[3],pulse:l[1],preStart:l[5],preStop:l[6],setPulse:l[8],prePause:l[7],opacity:.7,theme:"dark"}}),{c(){e=A("div"),R(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var n=C(e);X(t.$$.fragment,n),n.forEach(c),this.h()},h(){m(e,"class","relative top-0 left-0 right-0 z-50")},m(s,n){v(s,e,n),K(t,e,null),r=!0},p(s,n){const o={};n&8&&(o.presentationObj=s[3]),n&2&&(o.pulse=s[1]),t.$set(o)},i(s){r||(b(t.$$.fragment,s),s&&ce(()=>{r&&(a&&a.end(1),i=me(e,ne,{duration:300}),i.start())}),r=!0)},o(s){S(t.$$.fragment,s),i&&i.invalidate(),s&&(a=de(e,ne,{duration:300,start:.95})),r=!1},d(s){s&&c(e),q(t),s&&a&&a.end()}}}function Xe(l){let e,t,i,a,r,s,n=l[3]&&ke(l);return{c(){e=A("link"),t=B(),i=A("div"),n&&n.c(),this.h()},l(o){const u=Ie("svelte-1i48p6k",document.head);e=k(u,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),u.forEach(c),t=F(o),i=k(o,"DIV",{class:!0});var T=C(i);n&&n.l(T),T.forEach(c),this.h()},h(){m(e,"rel","stylesheet"),m(e,"href","https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"),m(e,"integrity","sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"),m(e,"crossorigin","anonymous"),m(i,"class","h-full w-full bg-gray-800 text-white")},m(o,u){y(document.head,e),v(o,t,u),v(o,i,u),n&&n.m(i,null),a=!0,r||(s=V(i,"mousemove",l[4]),r=!0)},p(o,[u]){o[3]?n?(n.p(o,u),u&8&&b(n,1)):(n=ke(o),n.c(),b(n,1),n.m(i,null)):n&&(H(),S(n,1,1,()=>{n=null}),W())},i(o){a||(b(n),a=!0)},o(o){S(n),a=!1},d(o){o&&(c(t),c(i)),c(e),n&&n.d(),r=!1,s()}}}function Je(l,e,t){let i=0,a,r=!1,{slides:s}=e,{audioData:n}=e,{assets:o}=e,{isBlob:u=!1}=e;function T(){r==!1&&(t(2,r=!0),setTimeout(()=>{t(2,r=!1)},5e3))}function O(){a=setInterval(P,500),t(1,i=Math.floor(_.pulse()))}function P(){t(1,i=Math.floor(_.pulse()))}function Y(){clearInterval(a),t(1,i=Math.floor(_.pulse()))}function d(){_.pause(),t(1,i=Math.floor(_.pulse()))}function f(g){_.setPulse(g),t(1,i=Math.floor(_.pulse()))}let _;return re(async()=>{t(3,_=new We(s,n,u)),await _.init()}),l.$$set=g=>{"slides"in g&&t(9,s=g.slides),"audioData"in g&&t(10,n=g.audioData),"assets"in g&&t(0,o=g.assets),"isBlob"in g&&t(11,u=g.isBlob)},[o,i,r,_,T,O,Y,d,f,s,n,u]}class ze extends ${constructor(e){super(),ee(this,e,Je,Xe,x,{slides:9,audioData:10,assets:0,isBlob:11})}}const w=class w{constructor(e){oe(this,"animate",e=>{if(this.playState!==w.PLAY_STATE.PLAY)return;const t=(e-this.lastTimestamp)/1e3;this.currentTime+=t,this.currentTime>=this.stopTime?this.stop():(this.setCurrentSlide(),this.lastTimestamp=e,this.animationFrameId=requestAnimationFrame(this.animate))});this.slides=e,this.currentSlide=null,this.maxSliderValue=0,this.stopTime=null,this.playState=w.PLAY_STATE.LOADED,this.currentTime=0,this.lastTimestamp=0,this.animationFrameId=null}async loadSound(){return this.playState=w.PLAY_STATE.LOADED,!0}async init(){await Ue(this.slides),await this.setStopTime(),await this.loadSound()}async setStopTime(){if(this.slides.length>0){const e=this.slides[this.slides.length-1];this.stopTime=e.endTime&&e.endTime>0?e.endTime:600}}setCurrentSlide(){const e=this.pulse();this.currentSlide=this.slides.find(t=>e>=t.startTime&&e<t.endTime)||null}getCurrentSlide(){return this.setCurrentSlide(),this.currentSlide}start(){return this.playState===w.PLAY_STATE.INITIAL||this.playState===w.PLAY_STATE.PLAY?!1:(this.playState===w.PLAY_STATE.STOP&&(this.currentTime=0),this.playState===w.PLAY_STATE.PAUSE&&(this.lastTimestamp=performance.now()),this.playState=w.PLAY_STATE.PLAY,this.lastTimestamp=performance.now(),this.animationFrameId=requestAnimationFrame(this.animate),!0)}pause(){this.playState===w.PLAY_STATE.PLAY?(this.playState=w.PLAY_STATE.PAUSE,cancelAnimationFrame(this.animationFrameId)):this.playState===w.PLAY_STATE.PAUSE&&this.start()}stop(){return this.playState!==w.PLAY_STATE.STOP?(this.currentTime=0,cancelAnimationFrame(this.animationFrameId),this.playState=w.PLAY_STATE.STOP,this.setCurrentSlide(),!0):!1}pulse(){return this.currentTime}setPulse(e){this.currentTime=e,this.setCurrentSlide()}};oe(w,"PLAY_STATE",{INITIAL:0,LOADED:1,STOP:2,PLAY:3,PAUSE:4});let ue=w;function ve(l){let e,t,i,a,r=l[2]&&Le(l);return i=new Oe({props:{presentationObj:l[3],pulse:l[1],currentTime:l[1],pause:l[7],assets:l[0]}}),{c(){r&&r.c(),e=B(),t=A("div"),R(i.$$.fragment),this.h()},l(s){r&&r.l(s),e=F(s),t=k(s,"DIV",{class:!0});var n=C(t);X(i.$$.fragment,n),n.forEach(c),this.h()},h(){m(t,"class","h-full")},m(s,n){r&&r.m(s,n),v(s,e,n),v(s,t,n),K(i,t,null),a=!0},p(s,n){s[2]?r?(r.p(s,n),n&4&&b(r,1)):(r=Le(s),r.c(),b(r,1),r.m(e.parentNode,e)):r&&(H(),S(r,1,1,()=>{r=null}),W());const o={};n&8&&(o.presentationObj=s[3]),n&2&&(o.pulse=s[1]),n&2&&(o.currentTime=s[1]),n&1&&(o.assets=s[0]),i.$set(o)},i(s){a||(b(r),b(i.$$.fragment,s),a=!0)},o(s){S(r),S(i.$$.fragment,s),a=!1},d(s){s&&(c(e),c(t)),r&&r.d(s),q(i)}}}function Le(l){let e,t,i,a,r;return t=new De({props:{presentationObj:l[3],pulse:l[1],preStart:l[5],preStop:l[6],setPulse:l[8],prePause:l[7],opacity:.7,theme:"dark"}}),{c(){e=A("div"),R(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var n=C(e);X(t.$$.fragment,n),n.forEach(c),this.h()},h(){m(e,"class","relative top-0 left-0 right-0 z-50")},m(s,n){v(s,e,n),K(t,e,null),r=!0},p(s,n){const o={};n&8&&(o.presentationObj=s[3]),n&2&&(o.pulse=s[1]),t.$set(o)},i(s){r||(b(t.$$.fragment,s),s&&ce(()=>{r&&(a&&a.end(1),i=me(e,ne,{duration:300}),i.start())}),r=!0)},o(s){S(t.$$.fragment,s),i&&i.invalidate(),s&&(a=de(e,ne,{duration:300,start:.95})),r=!1},d(s){s&&c(e),q(t),s&&a&&a.end()}}}function Ge(l){let e,t,i,a,r,s,n=l[3]&&ve(l);return{c(){e=A("link"),t=B(),i=A("div"),n&&n.c(),this.h()},l(o){const u=Ie("svelte-1i48p6k",document.head);e=k(u,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),u.forEach(c),t=F(o),i=k(o,"DIV",{class:!0});var T=C(i);n&&n.l(T),T.forEach(c),this.h()},h(){m(e,"rel","stylesheet"),m(e,"href","https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"),m(e,"integrity","sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"),m(e,"crossorigin","anonymous"),m(i,"class","h-full w-full bg-gray-800 text-white")},m(o,u){y(document.head,e),v(o,t,u),v(o,i,u),n&&n.m(i,null),a=!0,r||(s=V(i,"mousemove",l[4]),r=!0)},p(o,[u]){o[3]?n?(n.p(o,u),u&8&&b(n,1)):(n=ve(o),n.c(),b(n,1),n.m(i,null)):n&&(H(),S(n,1,1,()=>{n=null}),W())},i(o){a||(b(n),a=!0)},o(o){S(n),a=!1},d(o){o&&(c(t),c(i)),c(e),n&&n.d(),r=!1,s()}}}function Qe(l,e,t){let i=0,a,r=!1,{slides:s}=e,{assets:n}=e;function o(){r==!1&&(t(2,r=!0),setTimeout(()=>{t(2,r=!1)},5e3))}function u(){a=setInterval(T,500),t(1,i=Math.floor(d.pulse()))}function T(){t(1,i=Math.floor(d.pulse()))}function O(){clearInterval(a),t(1,i=Math.floor(d.pulse()))}function P(){d.pause(),t(1,i=Math.floor(d.pulse()))}function Y(f){d.setPulse(f),t(1,i=Math.floor(d.pulse()))}let d;return re(async()=>{t(3,d=new ue(s)),await d.init()}),l.$$set=f=>{"slides"in f&&t(9,s=f.slides),"assets"in f&&t(0,n=f.assets)},[n,i,r,d,o,u,O,P,Y,s]}class Ze extends ${constructor(e){super(),ee(this,e,Qe,Ge,x,{slides:9,assets:0})}}function xe(l){let e,t;return e=new Ze({props:{slides:l[0],assets:l[3]}}),{c(){R(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,a){K(e,i,a),t=!0},p(i,a){const r={};a&1&&(r.slides=i[0]),a&8&&(r.assets=i[3]),e.$set(r)},i(i){t||(b(e.$$.fragment,i),t=!0)},o(i){S(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function $e(l){let e,t;return e=new ze({props:{slides:l[0],audioData:l[1],isBlob:l[2],assets:l[3]}}),{c(){R(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,a){K(e,i,a),t=!0},p(i,a){const r={};a&1&&(r.slides=i[0]),a&2&&(r.audioData=i[1]),a&4&&(r.isBlob=i[2]),a&8&&(r.assets=i[3]),e.$set(r)},i(i){t||(b(e.$$.fragment,i),t=!0)},o(i){S(e.$$.fragment,i),t=!1},d(i){q(e,i)}}}function et(l){let e,t,i,a;const r=[$e,xe],s=[];function n(o,u){return o[4]&&o[0]&&o[3]?0:o[0]?1:-1}return~(e=n(l))&&(t=s[e]=r[e](l)),{c(){t&&t.c(),i=G()},l(o){t&&t.l(o),i=G()},m(o,u){~e&&s[e].m(o,u),v(o,i,u),a=!0},p(o,[u]){let T=e;e=n(o),e===T?~e&&s[e].p(o,u):(t&&(H(),S(s[T],1,1,()=>{s[T]=null}),W()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=r[e](o),t.c()),b(t,1),t.m(i.parentNode,i)):t=null)},i(o){a||(b(t),a=!0)},o(o){S(t),a=!1},d(o){o&&c(i),~e&&s[e].d(o)}}}function tt(l,e,t){let i,a=null;Be();let{slides:r}=e,{audioData:s=void 0}=e,{isBlob:n=!1}=e;return re(async()=>{t(3,a=await Ye.loadAssets())}),l.$$set=o=>{"slides"in o&&t(0,r=o.slides),"audioData"in o&&t(1,s=o.audioData),"isBlob"in o&&t(2,n=o.isBlob)},l.$$.update=()=>{l.$$.dirty&2&&t(4,i=s!==void 0)},[r,s,n,a,i]}class ot extends ${constructor(e){super(),ee(this,e,tt,et,x,{slides:0,audioData:1,isBlob:2})}}export{ot as P};
