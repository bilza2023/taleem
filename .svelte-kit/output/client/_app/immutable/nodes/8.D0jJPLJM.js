var Be=Object.defineProperty;var Fe=(l,e,t)=>e in l?Be(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var oe=(l,e,t)=>Fe(l,typeof e!="symbol"?e+"":e,t);import{K as Ve,s as z,l as Q,j as v,k as f,e as P,t as G,b as M,d as k,m as j,r as J,h as R,f as Te,i as d,D as w,v as A,y as W,w as fe,I as ce,A as Oe,o as te,E as ge,W as je,n as Ce}from"../chunks/scheduler.BnZUYRQB.js";import{S as Z,i as $,t as c,g as K,a as b,c as q,h as me,j as de,b as B,d as H,m as F,e as V}from"../chunks/index.Da715u9Q.js";import{T as Me,O as Re,S as ye}from"../chunks/OpenFileButton.iOEySLtQ.js";import"../chunks/entry.DkE-Cmua.js";import{S as Ke,h as Se,r as qe,P as He}from"../chunks/registerSlideTypes.Bgh0FrNe.js";function We(l){const e=l-1;return e*e*e+1}function Pe(l,{delay:e=0,duration:t=400,easing:i=Ve}={}){const a=+getComputedStyle(l).opacity;return{delay:e,duration:t,easing:i,css:n=>`opacity: ${n*a}`}}function re(l,{delay:e=0,duration:t=400,easing:i=We,start:a=0,opacity:n=0}={}){const s=getComputedStyle(l),r=+s.opacity,o=s.transform==="none"?"":s.transform,u=1-a,p=r*(1-n);return{delay:e,duration:t,easing:i,css:(O,y)=>`
			transform: ${o} scale(${1-u*y});
			opacity: ${r-p*y}
		`}}function ke(l){let e,t,i,a,n,s,r="||",o,u,p="■",O,y,Y,h,m,g=l[0].slides[l[0].slides.length-1].endTime+"",S,_,le,X,C,se,ie,x,L,ae,he;function pe(T,E){return typeof T[1]=="number"?ze:Xe}let ne=pe(l),N=ne(l);return{c(){e=P("div"),t=P("div"),i=P("button"),a=G("▶"),n=M(),s=P("button"),s.textContent=r,o=M(),u=P("button"),u.textContent=p,O=M(),y=P("input"),Y=M(),h=P("div"),N.c(),m=G(`
        / `),S=G(g),_=G(" sec"),le=M(),X=P("div"),C=P("input"),this.h()},l(T){e=k(T,"DIV",{class:!0,style:!0});var E=j(e);t=k(E,"DIV",{class:!0,style:!0});var U=j(t);i=k(U,"BUTTON",{class:!0,style:!0});var be=j(i);a=J(be,"▶"),be.forEach(f),n=R(U),s=k(U,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),Te(s)!=="svelte-1iauj0x"&&(s.textContent=r),o=R(U),u=k(U,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),Te(u)!=="svelte-f4x0p8"&&(u.textContent=p),O=R(U),y=k(U,"INPUT",{type:!0,min:!0,max:!0,step:!0,class:!0}),Y=R(U),h=k(U,"DIV",{class:!0,style:!0});var ee=j(h);N.l(ee),m=J(ee,`
        / `),S=J(ee,g),_=J(ee," sec"),ee.forEach(f),le=R(U),X=k(U,"DIV",{class:!0,style:!0});var _e=j(X);C=k(_e,"INPUT",{type:!0,min:!0,max:!0,class:!0,style:!0}),_e.forEach(f),U.forEach(f),E.forEach(f),this.h()},h(){d(i,"class","toolbar-button ml-2 svelte-5ua86e"),w(i,"background-color",l[4].primary),d(s,"class","toolbar-button svelte-5ua86e"),w(s,"background-color","gray"),d(u,"class","toolbar-button svelte-5ua86e"),w(u,"background-color","#b91c1c"),d(y,"type","range"),d(y,"min","0"),d(y,"max","1"),d(y,"step","0.1"),y.value="0.8",d(y,"class","volume-slider svelte-5ua86e"),d(h,"class","toolbar-text svelte-5ua86e"),w(h,"background-color",l[4].bg),w(h,"color",l[4].text),d(C,"type","range"),d(C,"min","0"),d(C,"max",se=l[0].slides[l[0].slides.length-1].endTime),C.value=l[1],d(C,"class","progress-slider svelte-5ua86e"),w(C,"background-color",l[4].secondary),d(X,"class","progress-slider-container svelte-5ua86e"),w(X,"background-color",l[4].bg),d(t,"class","toolbar-content flex items-center space-x-2 svelte-5ua86e"),w(t,"background-color",l[4].secondary),d(e,"class","toolbar-wrapper svelte-5ua86e"),w(e,"--opacity",l[3])},m(T,E){v(T,e,E),A(e,t),A(t,i),A(i,a),A(t,n),A(t,s),A(t,o),A(t,u),A(t,O),A(t,y),A(t,Y),A(t,h),N.m(h,null),A(h,m),A(h,S),A(h,_),A(t,le),A(t,X),A(X,C),L=!0,ae||(he=[W(i,"click",l[5]),W(s,"click",l[7]),W(u,"click",l[6]),W(y,"input",l[13]),W(C,"change",l[14])],ae=!0)},p(T,E){(!L||E&16)&&w(i,"background-color",T[4].primary),ne===(ne=pe(T))&&N?N.p(T,E):(N.d(1),N=ne(T),N&&(N.c(),N.m(h,m))),(!L||E&1)&&g!==(g=T[0].slides[T[0].slides.length-1].endTime+"")&&fe(S,g),(!L||E&16)&&w(h,"background-color",T[4].bg),(!L||E&16)&&w(h,"color",T[4].text),(!L||E&1&&se!==(se=T[0].slides[T[0].slides.length-1].endTime))&&d(C,"max",se),(!L||E&2)&&(C.value=T[1]),(!L||E&16)&&w(C,"background-color",T[4].secondary),(!L||E&16)&&w(X,"background-color",T[4].bg),(!L||E&16)&&w(t,"background-color",T[4].secondary),(!L||E&8)&&w(e,"--opacity",T[3])},i(T){L||(T&&ce(()=>{L&&(x&&x.end(1),ie=me(e,Pe,{delay:300}),ie.start())}),L=!0)},o(T){ie&&ie.invalidate(),T&&(x=de(e,Pe,{delay:300})),L=!1},d(T){T&&f(e),N.d(),T&&x&&x.end(),ae=!1,Oe(he)}}}function Xe(l){let e;return{c(){e=G(l[1])},l(t){e=J(t,l[1])},m(t,i){v(t,e,i)},p(t,i){i&2&&fe(e,t[1])},d(t){t&&f(e)}}}function ze(l){let e=l[1].toFixed(0)+"",t;return{c(){t=G(e)},l(i){t=J(i,e)},m(i,a){v(i,t,a)},p(i,a){a&2&&e!==(e=i[1].toFixed(0)+"")&&fe(t,e)},d(i){i&&f(t)}}}function Ge(l){let e,t=l[0]&&ke(l);return{c(){t&&t.c(),e=Q()},l(i){t&&t.l(i),e=Q()},m(i,a){t&&t.m(i,a),v(i,e,a)},p(i,[a]){i[0]?t?(t.p(i,a),a&1&&c(t,1)):(t=ke(i),t.c(),c(t,1),t.m(e.parentNode,e)):t&&(K(),b(t,1,1,()=>{t=null}),q())},i(i){c(t)},o(i){b(t)},d(i){i&&f(e),t&&t.d(i)}}}function Je(l,e,t){let i,{presentationObj:a}=e,{pulse:n}=e,{preStart:s=()=>{}}=e,{preStop:r=()=>{}}=e,{prePause:o=()=>{}}=e,{setPulse:u=()=>{}}=e,{theme:p="light"}=e,{opacity:O=.8}=e;function y(){s(),a.start()}function Y(){r(),a.stop()}function h(){o(),a.pause()}function m(_){a.setVolume(_)}const g=_=>m(_.target.value),S=_=>u(_.target.value);return l.$$set=_=>{"presentationObj"in _&&t(0,a=_.presentationObj),"pulse"in _&&t(1,n=_.pulse),"preStart"in _&&t(9,s=_.preStart),"preStop"in _&&t(10,r=_.preStop),"prePause"in _&&t(11,o=_.prePause),"setPulse"in _&&t(2,u=_.setPulse),"theme"in _&&t(12,p=_.theme),"opacity"in _&&t(3,O=_.opacity)},l.$$.update=()=>{l.$$.dirty&4096&&t(4,i=p==="dark"?{bg:"#333",text:"#fff",primary:"#00A6ED",secondary:"#aeb18c"}:{bg:"#fff",text:"#333",primary:"#065d7f",secondary:"#aeb18c"})},[a,n,u,O,i,y,Y,h,m,s,r,o,p,g,S]}class Ue extends Z{constructor(e){super(),$(this,e,Je,Ge,z,{presentationObj:0,pulse:1,preStart:9,preStop:10,prePause:11,setPulse:2,theme:12,opacity:3})}}function ve(l){let e,t,i;var a=l[6].getPlayerComponent(l[4].type);function n(s,r){return{props:{currentTime:s[0],pulse:s[2],items:s[4].items,startTime:s[4].startTime,endTime:s[4].endTime,slideExtra:s[4].slideExtra,assets:s[1],setPulse:s[3]}}}return a&&(e=ge(a,n(l))),{c(){e&&B(e.$$.fragment),t=Q()},l(s){e&&H(e.$$.fragment,s),t=Q()},m(s,r){e&&F(e,s,r),v(s,t,r),i=!0},p(s,r){if(r&16&&a!==(a=s[6].getPlayerComponent(s[4].type))){if(e){K();const o=e;b(o.$$.fragment,1,0,()=>{V(o,1)}),q()}a?(e=ge(a,n(s)),B(e.$$.fragment),c(e.$$.fragment,1),F(e,t.parentNode,t)):e=null}else if(a){const o={};r&1&&(o.currentTime=s[0]),r&4&&(o.pulse=s[2]),r&16&&(o.items=s[4].items),r&16&&(o.startTime=s[4].startTime),r&16&&(o.endTime=s[4].endTime),r&16&&(o.slideExtra=s[4].slideExtra),r&2&&(o.assets=s[1]),r&8&&(o.setPulse=s[3]),e.$set(o)}},i(s){i||(e&&c(e.$$.fragment,s),i=!0)},o(s){e&&b(e.$$.fragment,s),i=!1},d(s){s&&f(t),e&&V(e,s)}}}function Qe(l){let e,t,i,a,n=l[4]&&l[5]&&ve(l);return{c(){e=P("div"),n&&n.c(),this.h()},l(s){e=k(s,"DIV",{tabindex:!0});var r=j(e);n&&n.l(r),r.forEach(f),this.h()},h(){d(e,"tabindex","0")},m(s,r){v(s,e,r),n&&n.m(e,null),t=!0,i||(a=[W(e,"keyup",l[7]),W(e,"click",l[8])],i=!0)},p(s,[r]){s[4]&&s[5]?n?(n.p(s,r),r&48&&c(n,1)):(n=ve(s),n.c(),c(n,1),n.m(e,null)):n&&(K(),b(n,1,1,()=>{n=null}),q())},i(s){t||(c(n),t=!0)},o(s){b(n),t=!1},d(s){s&&f(e),n&&n.d(),i=!1,Oe(a)}}}async function Ze(l){return new Promise((e,t)=>{const i=new Image;i.onload=()=>e(i),i.onerror=a=>t(a),i.src=l})}function $e(l,e,t){const i=Ke.getInstance();let{presentationObj:a}=e,{currentTime:n}=e,{assets:s}=e,{pulse:r}=e,{pause:o=()=>{}}=e,{setPulse:u=()=>{}}=e,p,O=!1;te(async()=>{t(5,O=!0)});async function y(){for(let m=0;m<p.items.length;m++){const g=p.items[m];if(g.itemExtra.type=="image")try{const S="https://taleem-media.blr1.cdn.digitaloceanspaces.com/bucket/"+g.extra.src+"."+g.extra.ext,_=await Ze(S);g.extra.image=_}catch{}}}function Y(m){m.code==="Space"&&o()}function h(){o()}return l.$$set=m=>{"presentationObj"in m&&t(9,a=m.presentationObj),"currentTime"in m&&t(0,n=m.currentTime),"assets"in m&&t(1,s=m.assets),"pulse"in m&&t(2,r=m.pulse),"pause"in m&&t(10,o=m.pause),"setPulse"in m&&t(3,u=m.setPulse)},l.$$.update=()=>{l.$$.dirty&512&&a&&t(4,p=a.getCurrentSlide()),l.$$.dirty&516&&r&&a&&t(4,p=a.getCurrentSlide()),l.$$.dirty&16&&p&&y()},[n,s,r,u,p,O,i,Y,h,a,o]}class Ye extends Z{constructor(e){super(),$(this,e,$e,Qe,z,{presentationObj:9,currentTime:0,assets:1,pulse:2,pause:10,setPulse:3})}}async function Ne(l){return l.forEach(e=>{var t;if(e.type.toLowerCase()==="eqs"&&e.items&&e.items.length>0){(t=e.items[0])!=null&&t.itemExtra&&(e.items[0].itemExtra.startTime=e.startTime);for(let a=0;a<e.items.length-1;a++){const n=e.items[a],s=e.items[a+1];n!=null&&n.itemExtra&&(s!=null&&s.itemExtra)&&(n.itemExtra.endTime=s.itemExtra.startTime)}const i=e.items[e.items.length-1];i!=null&&i.itemExtra&&(i.itemExtra.endTime=e.endTime)}}),l}const D={INITIAL:0,LOADED:1,STOP:2,PLAY:3,PAUSE:4};class xe{constructor(e,t,i=!1){this.slides=e,this.soundData=t,this.isBlob=i,this.sound=null,this.playState=D.INITIAL}async loadSound(){this.isBlob?await this.loadSoundFromBlob():await this.loadSoundFromUrl()}async init(){await this.setStopTime(),await Ne(this.slides),await this.loadSound()}async setStopTime(){if(this.slides.length>0){const e=this.slides[this.slides.length-1];this.stopTime=e.endTime&&e.endTime>0?e.endTime:600}}setCurrentSlide(){const e=this.pulse();this.currentSlide=this.slides.find(t=>e>=t.startTime&&e<t.endTime)||null}getCurrentSlide(){return this.setCurrentSlide(),this.currentSlide}start(){return this.playState===D.PLAY?!0:this.playState===D.PAUSE?(this.pause(),!1):(this.sound.play(),this.sound.on("play",()=>{this.playState=D.PLAY}),!0)}pause(){this.playState=this.playState===D.PAUSE?D.PLAY:D.PAUSE,this.playState===D.PLAY?this.sound.play():this.sound.pause()}stop(){return this.playState=D.STOP,this.setCurrentSlide(),this.sound.stop(),!0}pulse(){return this.sound?this.sound.seek():0}setPulse(e){this.sound&&(this.sound.seek(e),this.setCurrentSlide())}setVolume(e){this.sound&&this.sound.volume(e)}async loadSoundFromBlob(){try{const e=atob(this.soundData),t=Array.from(e,s=>s.charCodeAt(0)),i=new Uint8Array(t),a=new Blob([i],{type:"audio/opus"}),n=URL.createObjectURL(a);this.sound=new Se.Howl({src:[n],format:["opus"],volume:1,html5:!0,onload:()=>{this.playState=D.LOADED,URL.revokeObjectURL(n)},onloaderror:(s,r)=>{this.playState=D.INITIAL,console.error("Error loading sound from blob:",r),URL.revokeObjectURL(n)}})}catch(e){this.playState=D.INITIAL,console.error("Error in loadSoundFromBlob:",e)}}async loadSoundFromUrl(){try{this.sound=new Se.Howl({src:[this.soundData],volume:1,html5:!0,onload:()=>{this.playState=D.LOADED},onloaderror:(e,t)=>{this.playState=D.INITIAL,console.error("Error loading sound from URL:",t)}})}catch(e){this.playState=D.INITIAL,console.error("Error in loadSoundFromUrl:",e)}}}function Ae(l){let e,t,i,a,n=l[2]&&Ee(l);return i=new Ye({props:{presentationObj:l[3],pulse:l[1],currentTime:l[1],pause:l[7],assets:l[0]}}),{c(){n&&n.c(),e=M(),t=P("div"),B(i.$$.fragment),this.h()},l(s){n&&n.l(s),e=R(s),t=k(s,"DIV",{class:!0});var r=j(t);H(i.$$.fragment,r),r.forEach(f),this.h()},h(){d(t,"class","h-full")},m(s,r){n&&n.m(s,r),v(s,e,r),v(s,t,r),F(i,t,null),a=!0},p(s,r){s[2]?n?(n.p(s,r),r&4&&c(n,1)):(n=Ee(s),n.c(),c(n,1),n.m(e.parentNode,e)):n&&(K(),b(n,1,1,()=>{n=null}),q());const o={};r&8&&(o.presentationObj=s[3]),r&2&&(o.pulse=s[1]),r&2&&(o.currentTime=s[1]),r&1&&(o.assets=s[0]),i.$set(o)},i(s){a||(c(n),c(i.$$.fragment,s),a=!0)},o(s){b(n),b(i.$$.fragment,s),a=!1},d(s){s&&(f(e),f(t)),n&&n.d(s),V(i)}}}function Ee(l){let e,t,i,a,n;return t=new Ue({props:{presentationObj:l[3],pulse:l[1],preStart:l[5],preStop:l[6],setPulse:l[8],prePause:l[7],opacity:.7,theme:"dark"}}),{c(){e=P("div"),B(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var r=j(e);H(t.$$.fragment,r),r.forEach(f),this.h()},h(){d(e,"class","relative top-0 left-0 right-0 z-50")},m(s,r){v(s,e,r),F(t,e,null),n=!0},p(s,r){const o={};r&8&&(o.presentationObj=s[3]),r&2&&(o.pulse=s[1]),t.$set(o)},i(s){n||(c(t.$$.fragment,s),s&&ce(()=>{n&&(a&&a.end(1),i=me(e,re,{duration:300}),i.start())}),n=!0)},o(s){b(t.$$.fragment,s),i&&i.invalidate(),s&&(a=de(e,re,{duration:300,start:.95})),n=!1},d(s){s&&f(e),V(t),s&&a&&a.end()}}}function et(l){let e,t,i,a,n,s,r=l[3]&&Ae(l);return{c(){e=P("link"),t=M(),i=P("div"),r&&r.c(),this.h()},l(o){const u=je("svelte-1i48p6k",document.head);e=k(u,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),u.forEach(f),t=R(o),i=k(o,"DIV",{class:!0});var p=j(i);r&&r.l(p),p.forEach(f),this.h()},h(){d(e,"rel","stylesheet"),d(e,"href","https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"),d(e,"integrity","sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"),d(e,"crossorigin","anonymous"),d(i,"class","h-full w-full bg-gray-800 text-white")},m(o,u){A(document.head,e),v(o,t,u),v(o,i,u),r&&r.m(i,null),a=!0,n||(s=W(i,"mousemove",l[4]),n=!0)},p(o,[u]){o[3]?r?(r.p(o,u),u&8&&c(r,1)):(r=Ae(o),r.c(),c(r,1),r.m(i,null)):r&&(K(),b(r,1,1,()=>{r=null}),q())},i(o){a||(c(r),a=!0)},o(o){b(r),a=!1},d(o){o&&(f(t),f(i)),f(e),r&&r.d(),n=!1,s()}}}function tt(l,e,t){let i=0,a,n=!1,{slides:s}=e,{audioData:r}=e,{assets:o}=e,{isBlob:u=!1}=e;function p(){n==!1&&(t(2,n=!0),setTimeout(()=>{t(2,n=!1)},5e3))}function O(){a=setInterval(y,500),t(1,i=Math.floor(g.pulse()))}function y(){t(1,i=Math.floor(g.pulse()))}function Y(){clearInterval(a),t(1,i=Math.floor(g.pulse()))}function h(){g.pause(),t(1,i=Math.floor(g.pulse()))}function m(S){g.setPulse(S),t(1,i=Math.floor(g.pulse()))}let g;return te(async()=>{t(3,g=new xe(s,r,u)),await g.init()}),l.$$set=S=>{"slides"in S&&t(9,s=S.slides),"audioData"in S&&t(10,r=S.audioData),"assets"in S&&t(0,o=S.assets),"isBlob"in S&&t(11,u=S.isBlob)},[o,i,n,g,p,O,Y,h,m,s,r,u]}class st extends Z{constructor(e){super(),$(this,e,tt,et,z,{slides:9,audioData:10,assets:0,isBlob:11})}}const I=class I{constructor(e){oe(this,"animate",e=>{if(this.playState!==I.PLAY_STATE.PLAY)return;const t=(e-this.lastTimestamp)/1e3;this.currentTime+=t,this.currentTime>=this.stopTime?this.stop():(this.setCurrentSlide(),this.lastTimestamp=e,this.animationFrameId=requestAnimationFrame(this.animate))});this.slides=e,this.currentSlide=null,this.maxSliderValue=0,this.stopTime=null,this.playState=I.PLAY_STATE.LOADED,this.currentTime=0,this.lastTimestamp=0,this.animationFrameId=null}async loadSound(){return this.playState=I.PLAY_STATE.LOADED,!0}async init(){await Ne(this.slides),await this.setStopTime(),await this.loadSound()}async setStopTime(){if(this.slides.length>0){const e=this.slides[this.slides.length-1];this.stopTime=e.endTime&&e.endTime>0?e.endTime:600}}setCurrentSlide(){const e=this.pulse();this.currentSlide=this.slides.find(t=>e>=t.startTime&&e<t.endTime)||null}getCurrentSlide(){return this.setCurrentSlide(),this.currentSlide}start(){return this.playState===I.PLAY_STATE.INITIAL||this.playState===I.PLAY_STATE.PLAY?!1:(this.playState===I.PLAY_STATE.STOP&&(this.currentTime=0),this.playState===I.PLAY_STATE.PAUSE&&(this.lastTimestamp=performance.now()),this.playState=I.PLAY_STATE.PLAY,this.lastTimestamp=performance.now(),this.animationFrameId=requestAnimationFrame(this.animate),!0)}pause(){this.playState===I.PLAY_STATE.PLAY?(this.playState=I.PLAY_STATE.PAUSE,cancelAnimationFrame(this.animationFrameId)):this.playState===I.PLAY_STATE.PAUSE&&this.start()}stop(){return this.playState!==I.PLAY_STATE.STOP?(this.currentTime=0,cancelAnimationFrame(this.animationFrameId),this.playState=I.PLAY_STATE.STOP,this.setCurrentSlide(),!0):!1}pulse(){return this.currentTime}setPulse(e){this.currentTime=e,this.setCurrentSlide()}};oe(I,"PLAY_STATE",{INITIAL:0,LOADED:1,STOP:2,PLAY:3,PAUSE:4});let ue=I;function we(l){let e,t,i,a,n=l[2]&&Ie(l);return i=new Ye({props:{presentationObj:l[3],pulse:l[1],currentTime:l[1],pause:l[7],assets:l[0]}}),{c(){n&&n.c(),e=M(),t=P("div"),B(i.$$.fragment),this.h()},l(s){n&&n.l(s),e=R(s),t=k(s,"DIV",{class:!0});var r=j(t);H(i.$$.fragment,r),r.forEach(f),this.h()},h(){d(t,"class","h-full")},m(s,r){n&&n.m(s,r),v(s,e,r),v(s,t,r),F(i,t,null),a=!0},p(s,r){s[2]?n?(n.p(s,r),r&4&&c(n,1)):(n=Ie(s),n.c(),c(n,1),n.m(e.parentNode,e)):n&&(K(),b(n,1,1,()=>{n=null}),q());const o={};r&8&&(o.presentationObj=s[3]),r&2&&(o.pulse=s[1]),r&2&&(o.currentTime=s[1]),r&1&&(o.assets=s[0]),i.$set(o)},i(s){a||(c(n),c(i.$$.fragment,s),a=!0)},o(s){b(n),b(i.$$.fragment,s),a=!1},d(s){s&&(f(e),f(t)),n&&n.d(s),V(i)}}}function Ie(l){let e,t,i,a,n;return t=new Ue({props:{presentationObj:l[3],pulse:l[1],preStart:l[5],preStop:l[6],setPulse:l[8],prePause:l[7],opacity:.7,theme:"dark"}}),{c(){e=P("div"),B(t.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var r=j(e);H(t.$$.fragment,r),r.forEach(f),this.h()},h(){d(e,"class","relative top-0 left-0 right-0 z-50")},m(s,r){v(s,e,r),F(t,e,null),n=!0},p(s,r){const o={};r&8&&(o.presentationObj=s[3]),r&2&&(o.pulse=s[1]),t.$set(o)},i(s){n||(c(t.$$.fragment,s),s&&ce(()=>{n&&(a&&a.end(1),i=me(e,re,{duration:300}),i.start())}),n=!0)},o(s){b(t.$$.fragment,s),i&&i.invalidate(),s&&(a=de(e,re,{duration:300,start:.95})),n=!1},d(s){s&&f(e),V(t),s&&a&&a.end()}}}function it(l){let e,t,i,a,n,s,r=l[3]&&we(l);return{c(){e=P("link"),t=M(),i=P("div"),r&&r.c(),this.h()},l(o){const u=je("svelte-1i48p6k",document.head);e=k(u,"LINK",{rel:!0,href:!0,integrity:!0,crossorigin:!0}),u.forEach(f),t=R(o),i=k(o,"DIV",{class:!0});var p=j(i);r&&r.l(p),p.forEach(f),this.h()},h(){d(e,"rel","stylesheet"),d(e,"href","https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css"),d(e,"integrity","sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ"),d(e,"crossorigin","anonymous"),d(i,"class","h-full w-full bg-gray-800 text-white")},m(o,u){A(document.head,e),v(o,t,u),v(o,i,u),r&&r.m(i,null),a=!0,n||(s=W(i,"mousemove",l[4]),n=!0)},p(o,[u]){o[3]?r?(r.p(o,u),u&8&&c(r,1)):(r=we(o),r.c(),c(r,1),r.m(i,null)):r&&(K(),b(r,1,1,()=>{r=null}),q())},i(o){a||(c(r),a=!0)},o(o){b(r),a=!1},d(o){o&&(f(t),f(i)),f(e),r&&r.d(),n=!1,s()}}}function nt(l,e,t){let i=0,a,n=!1,{slides:s}=e,{assets:r}=e;function o(){n==!1&&(t(2,n=!0),setTimeout(()=>{t(2,n=!1)},5e3))}function u(){a=setInterval(p,500),t(1,i=Math.floor(h.pulse()))}function p(){t(1,i=Math.floor(h.pulse()))}function O(){clearInterval(a),t(1,i=Math.floor(h.pulse()))}function y(){h.pause(),t(1,i=Math.floor(h.pulse()))}function Y(m){h.setPulse(m),t(1,i=Math.floor(h.pulse()))}let h;return te(async()=>{t(3,h=new ue(s)),await h.init()}),l.$$set=m=>{"slides"in m&&t(9,s=m.slides),"assets"in m&&t(0,r=m.assets)},[r,i,n,h,o,u,O,y,Y,s]}class rt extends Z{constructor(e){super(),$(this,e,nt,it,z,{slides:9,assets:0})}}function lt(l){let e,t;return e=new rt({props:{slides:l[0],assets:l[3]}}),{c(){B(e.$$.fragment)},l(i){H(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p(i,a){const n={};a&1&&(n.slides=i[0]),a&8&&(n.assets=i[3]),e.$set(n)},i(i){t||(c(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function at(l){let e,t;return e=new st({props:{slides:l[0],audioData:l[1],isBlob:l[2],assets:l[3]}}),{c(){B(e.$$.fragment)},l(i){H(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p(i,a){const n={};a&1&&(n.slides=i[0]),a&2&&(n.audioData=i[1]),a&4&&(n.isBlob=i[2]),a&8&&(n.assets=i[3]),e.$set(n)},i(i){t||(c(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function ot(l){let e,t,i,a;const n=[at,lt],s=[];function r(o,u){return o[4]&&o[0]&&o[3]?0:o[0]?1:-1}return~(e=r(l))&&(t=s[e]=n[e](l)),{c(){t&&t.c(),i=Q()},l(o){t&&t.l(o),i=Q()},m(o,u){~e&&s[e].m(o,u),v(o,i,u),a=!0},p(o,[u]){let p=e;e=r(o),e===p?~e&&s[e].p(o,u):(t&&(K(),b(s[p],1,1,()=>{s[p]=null}),q()),~e?(t=s[e],t?t.p(o,u):(t=s[e]=n[e](o),t.c()),c(t,1),t.m(i.parentNode,i)):t=null)},i(o){a||(c(t),a=!0)},o(o){b(t),a=!1},d(o){o&&f(i),~e&&s[e].d(o)}}}function ut(l,e,t){let i,a=null;qe();let{slides:n}=e,{audioData:s=void 0}=e,{isBlob:r=!1}=e;return te(async()=>{t(3,a=await He.loadAssets())}),l.$$set=o=>{"slides"in o&&t(0,n=o.slides),"audioData"in o&&t(1,s=o.audioData),"isBlob"in o&&t(2,r=o.isBlob)},l.$$.update=()=>{l.$$.dirty&2&&t(4,i=s!==void 0)},[n,s,r,a,i]}class ft extends Z{constructor(e){super(),$(this,e,ut,ot,z,{slides:0,audioData:1,isBlob:2})}}function ct(l){let e,t;return e=new Re({props:{callback:l[1],importAccept:".js",regexReplaceFilter:/export\s+const\s+\w+\s*=\s*/}}),{c(){B(e.$$.fragment)},l(i){H(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p:Ce,i(i){t||(c(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function Le(l){let e,t=l[0],i,a=De(l);return{c(){e=P("div"),a.c(),this.h()},l(n){e=k(n,"DIV",{class:!0});var s=j(e);a.l(s),s.forEach(f),this.h()},h(){d(e,"class","flex justify-center w-full border-white border-2 text-center rounded-lg ")},m(n,s){v(n,e,s),a.m(e,null),i=!0},p(n,s){s&1&&z(t,t=n[0])?(K(),b(a,1,1,Ce),q(),a=De(n),a.c(),c(a,1),a.m(e,null)):a.p(n,s)},i(n){i||(c(a),i=!0)},o(n){b(a),i=!1},d(n){n&&f(e),a.d(n)}}}function De(l){let e,t;return e=new ft({props:{isBlob:!1,slides:l[0],audioData:"/music1.opus"}}),{c(){B(e.$$.fragment)},l(i){H(e.$$.fragment,i)},m(i,a){F(e,i,a),t=!0},p(i,a){const n={};a&1&&(n.slides=i[0]),e.$set(n)},i(i){t||(c(e.$$.fragment,i),t=!0)},o(i){b(e.$$.fragment,i),t=!1},d(i){V(e,i)}}}function mt(l){let e,t,i,a;e=new Me({props:{$$slots:{default:[ct]},$$scope:{ctx:l}}});let n=l[0]&&Le(l);return{c(){B(e.$$.fragment),t=M(),i=P("div"),n&&n.c(),this.h()},l(s){H(e.$$.fragment,s),t=R(s),i=k(s,"DIV",{class:!0});var r=j(i);n&&n.l(r),r.forEach(f),this.h()},h(){d(i,"class","bg-gray-800 text-white w-full")},m(s,r){F(e,s,r),v(s,t,r),v(s,i,r),n&&n.m(i,null),a=!0},p(s,[r]){const o={};r&4&&(o.$$scope={dirty:r,ctx:s}),e.$set(o),s[0]?n?(n.p(s,r),r&1&&c(n,1)):(n=Le(s),n.c(),c(n,1),n.m(i,null)):n&&(K(),b(n,1,1,()=>{n=null}),q())},i(s){a||(c(e.$$.fragment,s),c(n),a=!0)},o(s){b(e.$$.fragment,s),b(n),a=!1},d(s){s&&(f(t),f(i)),V(e,s),n&&n.d()}}}function dt(l,e,t){let i=[];function a(n){typeof n!="object"&&alert("The imported slide is not an object"),t(0,i=[...n])}return te(async()=>{const n=ye.Canvas.getDemoSlide(),s=ye.Eqs.getDemoSlide();t(0,i=[n,s])}),[i,a]}class yt extends Z{constructor(e){super(),$(this,e,dt,mt,z,{})}}export{yt as component};
